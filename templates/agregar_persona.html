<!DOCTYPE html>
<html lang="en">

<head>
  <title>Agregar persona</title>
  <link href="https://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/agregar_persona.css">
  <link href="https://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/static/js/comunas.js"></script>
  <script src="{{ url_for('static', filename='js/formato_rut.js') }}"></script>
  <style>
    .form-container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/static/js/comunas.js"></script>
  <script src="{{ url_for('static', filename='js/formatoRut-formularios.js') }}"></script>
  <script src="{{ url_for('static', filename='js/telefono.js') }}"></script>
  <script src="{{ url_for('static', filename='js/validarCorreosFrm.js') }}"></script>
  <script src="{{ url_for('static', filename='js/calcularEdad.js') }}"></script>
</head>

<body class="bodys">
  <!--nav -->
  <nav class="navbar">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger " href="https://www.egiscasablanca.cl">
        <img
          src="https://egiscasablanca.cl/wp-content/uploads/2023/07/cropped-cropped-logo_blanco_transparente-1.png"
          class="logo">
      </a>
    </div>
  </nav>
  <div>
    <!--inicio -->
    <h2 class="attractive-title">Agregar Persona</h2>
    <div class="cont container form-container ">
      <div class="text-center">
        <button type="submit" class="button">Guardar</button>
        <button type="button" onclick="cancelar()" class="button">Cancelar</button>
      </div>
      <div class="abs-center">
        <div class="navigation-buttons">
          <form method="POST" action="{{ url_for('agregar_persona') }}">
            <div class="row">
              <div class="col-md-4">
                <br>
                <br>
                <label class="personitas">RUT:</label>
                <input type="text" name="rut" placeholder="Ej: 11.111.111-1" class="form-control" id="search_rut"
                  maxlength="12" onchange="formatearRutEnTiempoReal()" required>
                <input type="hidden" name="rut_persona_datos" value="{{ request.form['rut'] }}">

                <label class="personitas">Nombre:</label>
                <input type="text" name="nombre" placeholder="Ej: Juan" class="form-control" required>
                <label class="personitas">Apellido Paterno:</label>
                <input type="text" name="a_paterno" placeholder="Ej: Gonzalez" class="form-control">
                <label class="personitas">Apellido Materno:</label>
                <input type="text" name="a_materno" placeholder="Ej: Soto" class="form-control">
                <label class="personitas">Nacionalidad:</label>
                <!-- <input type="text" name="nacionalidad" placeholder="Ej: chileno" class="form-control"> -->
                <select id="nacionalidad" name="nacionalidad" class="form-control">
                  <option value="">Seleccione opción</option>
                  <option value="Chilena">Chilena</option>
                  <option value="Peruana">Peruana</option>
                  <option value="Boliviana">Boliviana</option>
                  <option value="Venezolana">Venezolana</option>
                  <option value="Argentina">Argentina</option>
                  <option value="Ecuatoriana">Ecuatoriana</option>
                  <option value="Colombiana">Colombiana</option>
                  <option value="Haitiana">Haitiana</option>
                  <option value="Otro">Otro</option>
                </select>
                <label class="personitas">Sexo:</label>
                <!-- <input type="text" name="sexo" placeholder="Ej: Hombre" class="form-control"> -->
                <select id="sexo" name="sexo" class="form-control">
                  <option value="">Seleccione opción</option>
                  <option value="Hombre">Hombre</option>
                  <option value="Mujer">Mujer</option>
                  <option value="S/N">S/N</option>
                </select>
                <label class="personitas">Fecha de Nacimiento:</label>
                <input type="date" name="fecha_nacimiento" id="fechaNacimiento" class="form-control"
                  onchange="calcularEdad()">
              </div>
              <div class="col-md-4">
                <br>
                <br>
                <label class="personitas">Estado Civil:</label>
                <!-- <input type="text" name="estado_civil" placeholder="Ej: Soltero" class="form-control"> -->
                <select id="estado_civil" name="estado_civil" class="form-control">
                  <option value="">Seleccione opción</option>
                  <option value="Soltero">Soltero</option>
                  <option value="Soltera">Soltera</option>
                  <option value="Casado">Casado</option>
                  <option value="Casada">Casada</option>
                  <option value="Divorciado">Divorciado</option>
                  <option value="Divorciada">Divorciada</option>
                  <option value="Unión Civil">Unión Civil</option>
                  <option value="Viudo">Viudo</option>
                  <option value="Viuda">Viuda</option>
                </select>
                <label class="personitas">Dirección:</label>
                <input type="text" name="direccion" placeholder="Ej: Las Brisas" class="form-control">
                <label class="personitas">Piso:</label>
                <input type="text" name="piso" placeholder="Ej: 0" class="form-control">
                <label class="personitas">Número:</label>
                <input type="text" name="num" placeholder="Ej: 213" class="form-control">
                <label class="personitas">Block:</label>
                <input type="text" name="block" placeholder="Ej: A/B" class="form-control">
                <label class="personitas">Villa:</label>
                <input type="text" name="villa" placeholder="Ej: Las Brisas" class="form-control">
                <label class="personitas">Edad:</label>
                <input type="text" name="edad" id="edad" class="form-control">
              </div>
              <div class="col-md-4">
                <br>
                <br>
                <label class="personitas">Teléfono:</label>
                <input type="text" name="fono" id="fono" placeholder="ej: 9/2 12345678" maxlength="9"
                  class="form-control" onchange="telefono()">
                <label class="personitas">Correo:</label>
                <input type="email" name="correo" id="correo" placeholder="Ej: aaa@gmail.com" class="form-control"
                  onchange="validarCorreo()">
                <label class="personitas">Vigencia Cédula:</label>
                <input type="date" name="vigencia_cedula" class="form-control">
                <label class="personitas">RUT Cónyuge:</label>
                <input type="text" name="rut_cony" placeholder="Ej: 11.111.111-1" class="form-control">
                <label class="personitas">Estado:</label>
                <!-- <input type="text" name="estado" placeholder="Ej: Soltero" class="form-control"> -->
                <select id="estado" name="estado" class="form-control">
                  <option value="S/N">Seleccione opción</option>
                  <option value="Soltero">Soltero</option>
                  <option value="Soltera">Soltera</option>
                  <option value="Casado">Casado</option>
                  <option value="Casada">Casada</option>
                  <option value="Divorciado">Divorciado</option>
                  <option value="Divorciada">Divorciada</option>
                  <option value="Unión Civil">Unión Civil</option>
                  <option value="Viudo">Viudo</option>
                  <option value="Viuda">Viuda</option>
                </select>
                <label class="personitas">Fecha Actualización:</label>
                <input type="date" name="fecha_act" class="Ej: form-control">
                <label class="personitas">N° Depto:</label>
                <input type="text" name="n_depto" placeholder="Ej: 0" class="form-control">
              </div>
            </div>
            <div>
              <!-- Regiones -->
              <label class="personitas">Región</label>
              <select class="form-select" id="regiones"></select>
              <!-- Fin Regiones -->
              <!-- Comunas -->
              <label class="personitas">Comunas</label>
              <select class="form-select" id="comunas" name="comuna"></select>
              <!-- Fin Comunas -->
            </div>
            <br><br>
            <!-- Campo oculto para rut_persona_datos -->
            <input type="hidden" name="rut_persona_datos" value="{{ request.form['rut'] }}">
            <br>
            <br>
          </form>
        </div>
        <script>
          function cancelar() {
            // Redirigir a la página personas.html para cancelar el ingreso
            window.location.href = "{{ url_for('personas') }}";
          }
        </script>
      </div>
    </div>
  </div>
  <br><br><br><br><br>
</body>
<!--footer-->
<footer class="footer">
  <p> Egis Casablanca | Gestión social inmobiliaria</p>
  <a href="https://www.facebook.com/EgisCasablancaChile"> Facebook
    <img src="https://egiscasablanca.cl/wp-content/uploads/2023/07/facebook.png"
      alt="Icono de Facebook" width="30px" height="30px">
  </a>
  <a href="https://www.instagram.com/egiscasablancachile/"> Instagram
    <img src="https://egiscasablanca.cl/wp-content/uploads/2023/07/square-instagram.png"
      alt="Icono de Instagram" width="30px" height="30px">
  </a>
</footer>
</html>
